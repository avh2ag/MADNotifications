<div class="container">
  <form [formGroup]="textForm" (ngSubmit)="sendMessages()">
    <div class="form-group">
      <label for="phone-numbers">Phone Numbers</label>
      <textarea formControlName="numbers" required class="form-control" id="phone-numbers" aria-describedby="phone-numbers" placeholder="123-456-7890, (123)456-7890"></textarea>
      <small id="emailHelp" class="form-text text-muted">Make sure the phone numbers are separated by commas and are 10 digits (no country code). E.G. 123-456-7890 or (123)456-7890</small>
    </div>
    <div class="form-group">
      <label for="message">Message</label>
      <textarea formControlName="message" required class="form-control" id="message" placeholder="Message will be sent from MAD DMV"></textarea>
    </div>
    <button type="reset" (click)="resetForm()" class="btn btn-secondary">Reset</button>
    <button type="submit" class="btn btn-primary" [disabled]="!textForm.valid">Submit</button>
  </form>
</div>
<br>
<div class="container" *ngIf="isSubmitted">
  <h3>Messages</h3>
  <ul *ngIf="numbersList.length > 0">
      <ng-container *ngFor="let phoneNumber of numbersList; trackBy: $index">
        <li>{{ phoneNumber }} - <span class="text-warning">{{ messageStatuses[phoneNumber] }}</span></li>
      </ng-container>
  </ul>
  <p class="text-danger" *ngIf="numbersList.length === 0">No valid phone numbers entered.</p>
</div>
